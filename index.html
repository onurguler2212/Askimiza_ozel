<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>ğŸ’– ÅaÅŸÄ±rmak sana Ã§ok yakÄ±ÅŸÄ±yor</title>

<style>
:root{
  --bg1:#0b1026;
  --bg2:#2a0f1f;
  --stroke:rgba(255,255,255,.16);
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.70);
  --accent:#ffd1dc;
}
*{box-sizing:border-box}
body{
  margin:0;
  padding:24px 16px;
  min-height:100svh;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text);
  background:
    radial-gradient(900px 600px at 15% 10%, rgba(255,77,136,.30), transparent 60%),
    radial-gradient(800px 520px at 85% 15%, rgba(255,209,220,.18), transparent 62%),
    radial-gradient(700px 520px at 50% 90%, rgba(140,70,255,.14), transparent 60%),
    linear-gradient(135deg,var(--bg1),var(--bg2));
  overflow-y:auto;
  overflow-x:hidden;
}
.wrap{display:flex;justify-content:center}
.card{
  width:min(560px,100%);
  background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.06));
  border:1px solid var(--stroke);
  border-radius:28px;
  padding:22px;
  box-shadow:0 30px 90px rgba(0,0,0,.38);
  backdrop-filter:blur(12px);
  position:relative;
  z-index:2;
}
.sparkle{
  position:fixed;inset:0;pointer-events:none;z-index:0;
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.55), transparent 60%),
    radial-gradient(1px 1px at 70% 20%, rgba(255,255,255,.45), transparent 60%),
    radial-gradient(1px 1px at 40% 80%, rgba(255,255,255,.35), transparent 60%);
  animation:twinkle 6s infinite;
}
@keyframes twinkle{50%{opacity:.85}}
.overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.25);
  backdrop-filter:blur(0);opacity:0;pointer-events:none;
  transition:.3s;z-index:1;
}
body.letter-open .overlay{opacity:1;backdrop-filter:blur(6px);pointer-events:auto}
.top{display:flex;gap:10px;flex-wrap:wrap;justify-content:space-between}
.pill{
  padding:8px 12px;border-radius:999px;
  background:rgba(0,0,0,.18);
  border:1px solid var(--stroke);
  font-size:13px;color:var(--muted)
}
h1{text-align:center;margin:14px 0 10px;font-size:32px}
.subtitle{text-align:center;color:var(--muted);line-height:1.7}
.divider{height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);margin:16px 0}
.actions{display:flex;gap:10px;flex-wrap:wrap}
button{
  flex:1 1 180px;padding:12px;border-radius:16px;
  border:none;font-size:15px;cursor:pointer
}
.primary{background:linear-gradient(135deg,var(--accent),#fff);color:#1b0b12}
.secondary{background:rgba(255,255,255,.1);color:white;border:1px solid var(--stroke)}
.hint{text-align:center;font-size:12px;color:var(--muted);margin-top:10px}

/* ZARF */
.letterStage{display:none;margin-top:20px}
.envelope{position:relative;height:190px;margin:auto}
.env-body{
  position:absolute;inset:0;border-radius:18px;
  background:rgba(255,255,255,.08);
  border:1px solid var(--stroke);overflow:hidden
}
.env-bottom{
  position:absolute;bottom:0;left:0;right:0;height:0;
  border-left:220px solid transparent;
  border-right:220px solid transparent;
  border-top:110px solid rgba(255,255,255,.1)
}
.env-flap{
  position:absolute;top:0;left:0;right:0;height:0;
  border-left:220px solid transparent;
  border-right:220px solid transparent;
  border-bottom:110px solid rgba(255,255,255,.15);
  transform-origin:top;transition:.8s
}
.paper{
  position:absolute;left:12px;right:12px;bottom:14px;
  height:150px;background:rgba(255,255,255,.12);
  border-radius:14px;transform:translateY(70px);
  transition:.9s;overflow:hidden
}
.paperInner{padding:14px;line-height:1.8;font-size:15px}
body.letter-open .env-flap{transform:rotateX(180deg)}
body.letter-open .paper{transform:translateY(-8px)}
.cursor{animation:blink 1s infinite}
@keyframes blink{50%{opacity:0}}
.sign{text-align:right;font-style:italic;margin-top:10px}
.heart{
  position:fixed;bottom:-20px;font-size:18px;
  animation:floatUp linear forwards
}
@keyframes floatUp{
  to{transform:translateY(-120svh);opacity:0}
}
</style>
</head>

<body>
<div class="sparkle"></div>
<div class="overlay" id="overlay"></div>

<div class="wrap">
<div class="card">
  <div class="top">
    <div class="pill">ğŸ’Œ Sevgililer GÃ¼nÃ¼ â€¢ Ä°lknurâ€™a</div>
    <div class="pill" id="musicStatus">ğŸµ MÃ¼zik: KapalÄ±</div>
  </div>

  <h1>ÅaÅŸÄ±rmak sana Ã§ok yakÄ±ÅŸÄ±yor ğŸ’–</h1>
  <p class="subtitle">Bu kÃ¼Ã§Ã¼k sayfa; bir gÃ¼lÃ¼mseme, bir ÅŸarkÄ± ve kalbimden bir mektup.</p>

  <div class="divider"></div>

  <div class="actions">
    <button class="primary" id="playBtn">ğŸµ MÃ¼ziÄŸi BaÅŸlat</button>
    <button class="secondary" id="openLetterBtn">ğŸ’Œ Mektubu AÃ§</button>
    <button class="secondary" id="heartsBtn">â¤ Kalpleri YaÄŸdÄ±r</button>
  </div>

  <div class="hint">Telefonlar mÃ¼ziÄŸi otomatik baÅŸlatmaz ğŸ§</div>

  <div class="letterStage" id="letterStage">
    <div class="envelope">
      <div class="env-body">
        <div class="env-bottom"></div>
        <div class="paper">
          <div class="paperInner">
            <span id="typed"></span><span class="cursor">|</span>
            <div class="sign">â€” Sana Ã§ok Ã¢ÅŸÄ±k olan adam</div>
          </div>
        </div>
        <div class="env-flap"></div>
      </div>
    </div>
  </div>

  <audio id="bgm" loop muted playsinline>
    <source src="hanimefendi.mp3" type="audio/mpeg">
  </audio>
</div>
</div>

<script>
const letterText=`BugÃ¼n Sevgililer GÃ¼nÃ¼ymÃ¼ÅŸâ€¦

Ama benim iÃ§in 25 AÄŸustos 2024â€™ten beri her gÃ¼n Sevgililer GÃ¼nÃ¼.
Her gÃ¼nÃ¼m ayrÄ± heyecanlÄ±, her anÄ±m ayrÄ± huzurluâ€¦

Her geÃ§en gÃ¼n sana biraz daha Ã¢ÅŸÄ±k oluyorum.
Her gÃ¼n kendimi seninle biraz daha aÅŸÄ±yorum.
Her seferinde seni ÅŸaÅŸÄ±rtmayÄ± Ã§ok seviyorumâ€¦

Bu mesajÄ± okurkenki o tatlÄ± gÃ¼lÃ¼msemeni,
bir sonraki cÃ¼mlede ne yazÄ±yor diye merakla pÄ±rpÄ±r Ã§arpan kalbini duymayÄ± Ã§ok seviyorum.

Sen iyi ki hayatÄ±ma girdin, iyi ki hayatÄ±mÄ±n neÅŸesi oldun.
Sen sevginin en gÃ¼zel halisin ve iyi ki benimsin.

SENÄ° Ã‡OOO..OOOKK SEVÄ°YORUM.. ğŸ’–`;

const bgm=document.getElementById("bgm");
const playBtn=document.getElementById("playBtn");
const openBtn=document.getElementById("openLetterBtn");
const heartsBtn=document.getElementById("heartsBtn");
const letterStage=document.getElementById("letterStage");
const typed=document.getElementById("typed");
const overlay=document.getElementById("overlay");
let playing=false,typing=false;

function playPaperRustle(){
  const ctx=new (window.AudioContext||window.webkitAudioContext)();
  const buffer=ctx.createBuffer(1,ctx.sampleRate*.5,ctx.sampleRate);
  const data=buffer.getChannelData(0);
  for(let i=0;i<data.length;i++)data[i]=Math.random()*2-1;
  const src=ctx.createBufferSource();
  src.buffer=buffer;
  const filter=ctx.createBiquadFilter();
  filter.type="bandpass";filter.frequency.value=1800;
  const gain=ctx.createGain();
  gain.gain.setValueAtTime(.2,ctx.currentTime);
  src.connect(filter);filter.connect(gain);gain.connect(ctx.destination);
  src.start();src.stop(ctx.currentTime+.5);
}

function typeWords(){
  if(typing)return;
  typing=true;typed.textContent="";
  const parts=letterText.split(/(\s+)/);let i=0;
  (function step(){
    if(!document.body.classList.contains("letter-open"))return typing=false;
    if(i<parts.length){
      typed.textContent+=parts[i++];
      setTimeout(step,28+Math.random()*20);
    }
  })();
}

openBtn.onclick=()=>{
  document.body.classList.add("letter-open");
  letterStage.style.display="block";
  playPaperRustle();
  typeWords();
};
overlay.onclick=()=>{
  document.body.classList.remove("letter-open");
  letterStage.style.display="none";
  typing=false;
};
playBtn.onclick=async()=>{
  if(!playing){
    bgm.muted=false;await bgm.play();playing=true;
    playBtn.textContent="â¸ MÃ¼ziÄŸi Durdur";
  }else{
    bgm.pause();playing=false;
    playBtn.textContent="ğŸµ MÃ¼ziÄŸi BaÅŸlat";
  }
};
heartsBtn.onclick=()=>{
  for(let i=0;i<15;i++){
    const h=document.createElement("div");
    h.className="heart";h.textContent="â¤";
    h.style.left=Math.random()*100+"vw";
    h.style.animationDuration=4+Math.random()*3+"s";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),7000);
  }
};
</script>
</body>
</html>
